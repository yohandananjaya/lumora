/**
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 *                    LUMORA CALLING ARCHITECTURE DIAGRAM
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 */

/**
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚                         USER INTERACTION FLOW                            â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 *    Device A (Caller)                                    Device B (Receiver)
 *    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * 
 *    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *    â”‚ Home Screen  â”‚                                     â”‚ Home Screen  â”‚
 *    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *           â”‚                                                     
 *           â”‚ Navigate to ChatScreen                              
 *           â–¼                                                     
 *    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             
 *    â”‚  CallFeatureWrapper  â”‚â—„â”€â”€â”€ Wraps existing screen
 *    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
 *    â”‚  â”‚  ChatScreen    â”‚  â”‚
 *    â”‚  â”‚  (existing)    â”‚  â”‚
 *    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
 *    â”‚  â”Œâ”€â”€â”€â”€â”              â”‚
 *    â”‚  â”‚ ğŸ“ â”‚â—„â”€ Call button overlay
 *    â”‚  â””â”€â”€â”€â”€â”˜              â”‚
 *    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *           â”‚
 *           â”‚ User taps call button
 *           â–¼
 *    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *    â”‚  Call Options Sheet  â”‚
 *    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
 *    â”‚  â”‚ ğŸ”Š Audio Call  â”‚  â”‚
 *    â”‚  â”‚ ğŸ“¹ Video Call  â”‚  â”‚
 *    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
 *    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *           â”‚
 *           â”‚ Choose call type
 *           â–¼
 *    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        Firebase         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *    â”‚   CallService.       â”‚   /calls collection     â”‚  CallService.        â”‚
 *    â”‚   makeCall()         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚  listener detects    â”‚
 *    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *           â”‚                                                 â”‚
 *           â”‚ Create call doc                                â”‚ Stream update
 *           â–¼                                                 â–¼
 *    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *    â”‚   CallScreen         â”‚                         â”‚  IncomingCallScreen  â”‚
 *    â”‚   (Calling...)       â”‚                         â”‚  [Accept] [Reject]   â”‚
 *    â”‚                      â”‚                         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *    â”‚   Agora Channel      â”‚                                â”‚
 *    â”‚   Created            â”‚                                â”‚ User accepts
 *    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â–¼
 *           â”‚                                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *           â”‚                                         â”‚   CallService.       â”‚
 *           â”‚                                         â”‚   answerCall()       â”‚
 *           â”‚                                         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *           â”‚                                                â”‚
 *           â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Agora RTC Engine â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚
 *           â”‚          (Real-time Audio/Video)              â”‚
 *           â–¼                                                â–¼
 *    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *    â”‚   CallScreen         â”‚                         â”‚   CallScreen         â”‚
 *    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                         â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
 *    â”‚   â”‚ Connected      â”‚ â”‚                         â”‚   â”‚ Connected      â”‚ â”‚
 *    â”‚   â”‚ 00:32          â”‚ â”‚                         â”‚   â”‚ 00:32          â”‚ â”‚
 *    â”‚   â”‚ [ğŸ¤][ğŸ”Š][ğŸ“]  â”‚ â”‚                         â”‚   â”‚ [ğŸ¤][ğŸ”Š][ğŸ“]  â”‚ â”‚
 *    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                         â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
 *    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 */

/**
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚                        COMPONENT ARCHITECTURE                            â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 *                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *                         â”‚   Flutter App      â”‚
 *                         â”‚   (main.dart)      â”‚
 *                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *                                   â”‚
 *                                   â”‚ Initializes
 *                                   â–¼
 *                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *                         â”‚   CallService      â”‚
 *                         â”‚   (Singleton)      â”‚
 *                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *                                   â”‚
 *                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *                    â”‚              â”‚              â”‚
 *                    â–¼              â–¼              â–¼
 *         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *         â”‚   Agora      â”‚  â”‚  Firebase    â”‚  â”‚  Streams     â”‚
 *         â”‚   RTC Engine â”‚  â”‚  Firestore   â”‚  â”‚  (incoming,  â”‚
 *         â”‚              â”‚  â”‚  (/calls)    â”‚  â”‚   active)    â”‚
 *         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *                â”‚                  â”‚                  â”‚
 *                â”‚                  â”‚                  â”‚
 *                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *                           â”‚
 *                           â”‚ Used by
 *                           â–¼
 *                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *                 â”‚ CallFeatureWrapper  â”‚
 *                 â”‚  (Widget)           â”‚
 *                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *                            â”‚
 *                            â”‚ Wraps
 *                            â–¼
 *                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *                 â”‚   ChatScreen        â”‚
 *                 â”‚   (Existing)        â”‚
 *                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 */

/**
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚                          DATA FLOW DIAGRAM                               â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 *    1. OUTGOING CALL
 *    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * 
 *    User A                CallService           Firebase            User B
 *    â•â•â•â•â•â•                â•â•â•â•â•â•â•â•â•â•â•           â•â•â•â•â•â•â•â•            â•â•â•â•â•â•
 *      â”‚                        â”‚                    â”‚                  â”‚
 *      â”‚â”€â” Tap call button      â”‚                    â”‚                  â”‚
 *      â”‚ â”‚                      â”‚                    â”‚                  â”‚
 *      â”‚â—„â”˜                      â”‚                    â”‚                  â”‚
 *      â”‚                        â”‚                    â”‚                  â”‚
 *      â”‚â”€â”€â”€â”€â”€makeCall()â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                    â”‚                  â”‚
 *      â”‚                        â”‚                    â”‚                  â”‚
 *      â”‚                        â”‚â”€â”€â”€â”€â”€create docâ”€â”€â”€â”€â”€â–ºâ”‚                  â”‚
 *      â”‚                        â”‚   /calls/{id}      â”‚                  â”‚
 *      â”‚                        â”‚                    â”‚                  â”‚
 *      â”‚                        â”‚                    â”‚â”€â”€â”€â”€â”€notifyâ”€â”€â”€â”€â”€â”€â–ºâ”‚
 *      â”‚                        â”‚                    â”‚   (listener)     â”‚
 *      â”‚                        â”‚                    â”‚                  â”‚
 *      â”‚â—„â”€â”€CallScreen UIâ”€â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚                  â”‚â”€â”€â”
 *      â”‚                        â”‚                    â”‚                  â”‚  â”‚ Show incoming
 *      â”‚                        â”‚                    â”‚                  â”‚â—„â”€â”˜ call UI
 *      â”‚                        â”‚                    â”‚                  â”‚
 *      â”‚                        â”‚â—„â”€â”€â”€â”€answerCall()â”€â”€â”€â”¤â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
 *      â”‚                        â”‚                    â”‚                  â”‚
 *      â”‚                        â”‚â”€â”€update statusâ”€â”€â”€â”€â–ºâ”‚                  â”‚
 *      â”‚                        â”‚  (answered)        â”‚                  â”‚
 *      â”‚                        â”‚                    â”‚                  â”‚
 *      â”‚â—„â”€â”€â”€â”€â”€Agora Channel Joinâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
 *      â”‚                                                                 â”‚
 *      â”‚â—„â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• Real-time Audio/Video â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–ºâ”‚
 *      â”‚                                                                 â”‚
 * 
 * 
 *    2. FIREBASE STRUCTURE
 *    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * 
 *    Firestore
 *    â””â”€â”€ calls/
 *        â””â”€â”€ {callId}
 *            â”œâ”€â”€ callId: "abc123"
 *            â”œâ”€â”€ channelId: "abc123"        â† Agora channel
 *            â”œâ”€â”€ callerId: "user1"
 *            â”œâ”€â”€ callerName: "John"
 *            â”œâ”€â”€ callerPhotoUrl: "..."
 *            â”œâ”€â”€ receiverId: "user2"
 *            â”œâ”€â”€ receiverName: "Jane"
 *            â”œâ”€â”€ receiverPhotoUrl: "..."
 *            â”œâ”€â”€ callType: "audio" | "video"
 *            â”œâ”€â”€ status: "ringing" | "answered" | "ended"
 *            â”œâ”€â”€ timestamp: Timestamp
 *            â”œâ”€â”€ answeredAt: Timestamp | null
 *            â”œâ”€â”€ endedAt: Timestamp | null
 *            â””â”€â”€ durationSeconds: 125
 * 
 */

/**
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚                        INTEGRATION POINTS                                â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 *    Existing Code (UNTOUCHED)           New Code (ADDED)
 *    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * 
 *    main.dart                            features/calling/
 *      â”œâ”€â”€ Firebase init               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *      â”œâ”€â”€ ...existing...              â”‚  services/             â”‚
 *      â””â”€â”€ runApp()                    â”‚    â””â”€â”€ call_service.dartâ”‚
 *              â–²                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *              â”‚                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *              â”‚ ADD ONE LINE          â”‚  models/               â”‚
 *              â”‚ CallService()         â”‚    â””â”€â”€ call_model.dart  â”‚
 *              â”‚   .startListening()   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *              â”‚                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *    home_screen.dart                  â”‚  screens/              â”‚
 *      â”œâ”€â”€ ...existing...              â”‚    â”œâ”€â”€ call_screen.dart â”‚
 *      â””â”€â”€ Navigate to Chat            â”‚    â””â”€â”€ incoming_*.dart  â”‚
 *              â–²                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *              â”‚                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *              â”‚ WRAP NAVIGATION       â”‚  widgets/              â”‚
 *              â”‚ CallFeatureWrapper()  â”‚    â””â”€â”€ call_feature_   â”‚
 *              â”‚                       â”‚        wrapper.dart     â”‚
 *    ChatScreen (existing)             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *      â”œâ”€â”€ Messages                           â”‚
 *      â”œâ”€â”€ Input box                          â”‚ Wraps existing
 *      â””â”€â”€ AppBar                             â”‚ via Stack
 *              â–²                              â”‚
 *              â”‚                              â”‚
 *              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *                      NO CHANGES
 * 
 */

/**
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚                       STACK LAYER VISUALIZATION                          â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 *    CallFeatureWrapper uses Stack to overlay UI:
 * 
 *    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *    â”‚  Stack                                              â”‚
 *    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
 *    â”‚  â”‚  Layer 1: ChatScreen (Existing - Untouched)   â”‚ â”‚
 *    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
 *    â”‚  â”‚  â”‚ AppBar: "Chat with John"               â”‚   â”‚ â”‚
 *    â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚ â”‚
 *    â”‚  â”‚  â”‚ Message: Hey!                          â”‚   â”‚ â”‚
 *    â”‚  â”‚  â”‚ Message: How are you?                  â”‚   â”‚ â”‚
 *    â”‚  â”‚  â”‚                                        â”‚   â”‚ â”‚
 *    â”‚  â”‚  â”‚                                        â”‚   â”‚ â”‚
 *    â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚ â”‚
 *    â”‚  â”‚  â”‚ [Input field] [Send]                   â”‚   â”‚ â”‚
 *    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
 *    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
 *    â”‚                                                      â”‚
 *    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
 *    â”‚  â”‚  Layer 2: Call Button (Positioned overlay)    â”‚ â”‚
 *    â”‚  â”‚                                          â”Œâ”€â”€â”€â” â”‚ â”‚
 *    â”‚  â”‚                                          â”‚ğŸ“ â”‚ â”‚ â”‚
 *    â”‚  â”‚                                          â””â”€â”€â”€â”˜ â”‚ â”‚
 *    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
 *    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 *    When incoming call:
 * 
 *    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *    â”‚  showDialog() - Full Screen                         â”‚
 *    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
 *    â”‚  â”‚  IncomingCallScreen                           â”‚ â”‚
 *    â”‚  â”‚                                               â”‚ â”‚
 *    â”‚  â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚ â”‚
 *    â”‚  â”‚           â”‚   Avatar    â”‚                     â”‚ â”‚
 *    â”‚  â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚ â”‚
 *    â”‚  â”‚              John Doe                         â”‚ â”‚
 *    â”‚  â”‚          Incoming Video Call                  â”‚ â”‚
 *    â”‚  â”‚                                               â”‚ â”‚
 *    â”‚  â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚ â”‚
 *    â”‚  â”‚      â”‚ Decline â”‚    â”‚ Accept  â”‚             â”‚ â”‚
 *    â”‚  â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚ â”‚
 *    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
 *    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *         Blocks underlying ChatScreen temporarily
 * 
 */

/**
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚                      DEPLOYMENT ARCHITECTURE                             â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 *    Device A                  Cloud Services                  Device B
 *    â•â•â•â•â•â•â•â•                  â•â•â•â•â•â•â•â•â•â•â•â•â•â•                  â•â•â•â•â•â•â•â•
 * 
 *    Flutter App               Firebase Firestore              Flutter App
 *    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *    â”‚          â”‚             â”‚              â”‚                â”‚          â”‚
 *    â”‚ CallUI   â”‚â—„â”€â”€â”€Writeâ”€â”€â”€â”€â”¤ /calls/{id} â”œâ”€â”€â”€â”€Listenâ”€â”€â”€â”€â”€â–ºâ”‚ CallUI   â”‚
 *    â”‚          â”‚             â”‚              â”‚                â”‚          â”‚
 *    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
 *         â”‚                                                        â”‚
 *         â”‚                   Agora RTC Cloud                      â”‚
 *         â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
 *         â”‚                   â”‚              â”‚                    â”‚
 *         â””â”€â”€â”€â”€Audio/Videoâ”€â”€â”€â–ºâ”‚  Channel ID  â”‚â—„â”€â”€â”€Audio/Videoâ”€â”€â”€â”€â”˜
 *                             â”‚  (Real-time) â”‚
 *                             â”‚              â”‚
 *                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 *    Both devices:
 *    - Connect to same Agora channel
 *    - Firestore keeps state in sync
 *    - Direct P2P media through Agora
 *    - No custom backend server needed!
 * 
 */

void main() {
  print('ğŸ“Š Visual Architecture Reference');
  print('Use these diagrams to understand the system flow');
}
